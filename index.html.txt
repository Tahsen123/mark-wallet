<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>محفظة مارك</title>
  <style>
    body { font-family: Arial; direction: rtl; padding: 20px; background: #f5f5f5; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    h1, h2 { text-align: center; }
    .btn { display: block; width: 100%; padding: 10px; margin-top: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    .hidden { display: none; }
    label { display: block; margin-top: 10px; }
    input { width: 100%; padding: 8px; margin-top: 5px; }
  </style>
</head>
<body>

  <!-- صفحة تسجيل الدخول -->
  <div class="container" id="loginPage">
    <h2>تسجيل دخول المستخدم</h2>
    <label>اسم المستخدم:</label>
    <input type="text" id="usernameInput">
    <label>كلمة المرور:</label>
    <input type="password" id="passwordInput">
    <button class="btn" onclick="loginUser()">دخول</button>
    <button class="btn" onclick="showAdminLogin()">لوحة الأدمن</button>
  </div>

  <!-- صفحة المستخدم -->
  <div class="container hidden" id="userPage">
    <h1>محفظة مارك</h1>
    <p id="welcome"></p>
    <p id="amount"></p>
    <p id="dailyProfit"></p>
    <p id="totalProfit"></p>
    <p id="motivation"></p>
    <button id="withdrawBtn" class="btn hidden">💸 طلب سحب</button>
    <button class="btn" onclick="location.href='https://t.me/MA_R_KO1'">📞 تواصل على تيليجرام</button>
  </div>

  <!-- صفحة تسجيل الأدمن -->
  <div class="container hidden" id="adminLogin">
    <h2>تسجيل دخول الأدمن</h2>
    <label>كلمة المرور:</label>
    <input type="password" id="adminPassword">
    <button class="btn" onclick="loginAdmin()">دخول الأدمن</button>
  </div>

  <!-- صفحة لوحة تحكم الأدمن -->
  <div class="container hidden" id="adminPage">
    <h2>لوحة الأدمن</h2>
    <div>
      <label>إضافة مستخدم جديد:</label>
      <input type="text" id="newUsername" placeholder="الاسم">
      <input type="text" id="newPassword" placeholder="كلمة المرور">
      <input type="number" id="newAmount" placeholder="المبلغ">
      <button class="btn" onclick="addUser()">إضافة</button>
    </div>
    <h3>المستخدمون المعلقون</h3>
    <div id="pendingList"></div>
  </div>

<script>
  const motivationalTexts = [
    "كل يوم هو فرصة جديدة.",
    "استثمر اليوم، اربح غدًا.",
    "الناجحون لا ينتظرون، بل يصنعون الفرصة.",
    "ثق بقراراتك واستمر.",
    "الأرباح تبدأ بخطوة."
  ];

  let approvedUsers = JSON.parse(localStorage.getItem('approvedUsers') || '[]');
  let pendingUsers = JSON.parse(localStorage.getItem('pendingUsers') || '[]');

  function loginUser() {
    const user = document.getElementById('usernameInput').value;
    const pass = document.getElementById('passwordInput').value;
    const found = approvedUsers.find(u => u.name === user && u.pass === pass);
    if (found) {
      showUserPage(found);
    } else {
      alert('المستخدم غير مفعل أو غير موجود');
    }
  }

  function showUserPage(user) {
    document.getElementById('loginPage').classList.add('hidden');
    document.getElementById('userPage').classList.remove('hidden');
    document.getElementById('welcome').innerText = `👤 المستخدم: ${user.name}`;
    document.getElementById('amount').innerText = `💰 مبلغ الاشتراك: ${user.amount} د.ع`;

    const profit = user.amount * 0.15;
    const total = profit * 3;
    document.getElementById('dailyProfit').innerText = `📈 الربح اليومي: ${profit.toFixed(0)} د.ع`;
    document.getElementById('totalProfit').innerText = `💵 مجموع الأرباح: ${total.toFixed(0)} د.ع`;

    if (total >= 50000) {
      document.getElementById('withdrawBtn').classList.remove('hidden');
    }

    const motivation = motivationalTexts[Math.floor(Math.random() * motivationalTexts.length)];
    document.getElementById('motivation').innerText = `💡 "${motivation}"`;
  }

  function showAdminLogin() {
    document.getElementById('loginPage').classList.add('hidden');
    document.getElementById('adminLogin').classList.remove('hidden');
  }

  function loginAdmin() {
    const adminPass = document.getElementById('adminPassword').value;
    if (adminPass === '1234') { // يمكنك تغيير الباسورد هنا
      document.getElementById('adminLogin').classList.add('hidden');
      document.getElementById('adminPage').classList.remove('hidden');
      displayPendingUsers();
    } else {
      alert('كلمة المرور غير صحيحة');
    }
  }

  function addUser() {
    const name = document.getElementById('newUsername').value.trim();
    const pass = document.getElementById('newPassword').value.trim();
    const amount = parseFloat(document.getElementById('newAmount').value);
    if (!name || !pass || isNaN(amount)) {
      alert('يرجى ملء جميع الحقول بشكل صحيح');
      return;
    }

    approvedUsers.push({ name, pass, amount });
    localStorage.setItem('approvedUsers', JSON.stringify(approvedUsers));
    alert('تمت إضافة المستخدم بنجاح');
  }

  function displayPendingUsers() {
    const list = document.getElementById('pendingList');
    list.innerHTML = '';
    if (pendingUsers.length === 0) {
      list.innerText = 'لا يوجد مستخدمون معلقون حالياً.';
      return;
    }

    pendingUsers.forEach(u => {
      const div = document.createElement('div');
      div.textContent = `👤 ${u.name} - 💰 ${u.amount} د.ع`;
      list.appendChild(div);
    });
  }
</script>
</body>
</html>